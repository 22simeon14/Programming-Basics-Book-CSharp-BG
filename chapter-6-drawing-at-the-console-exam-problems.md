# Глава 6. Чертане на фигурки с цикли - изпитни задачи
В тази глава ще решим няколко задачи, включващи чертане на фигури с цикли, и ще разгледаме най-често срещаните бъгове.
## Чертане на крепост
*Пета задача от междинния изпит на 6 март 2016.*

Зададена ни е следната задача :
Да се напише програма, която прочита от конзолата цяло число **n** и чертае крепост с ширина **2 * n** колони и височина **n** реда. Лявата и дясната колона във вътрешността си са широки **n / 2**.

### Входни данни
Входът е цяло число **n** в интервала **[3…1000].**
### Изходни данни
Да се отпечатат на конзолата **n** текстови реда, изобразяващи **крепостта**, точно както в примерите.
### Примерен вход и изход
Следват няколко тестови примера, които ще са главният ни ориентир за писането на кода:

<div style="display:inline-block; border: 1px solid blue">Вход</div>
<div style="display:inline-block; border: 1px solid green">Изход</div>

<div style="display:inline-block; border: 1px solid blue">3</div>
<div style="display:inline-block; border: 1px solid green"><img src="assets/chapter-6-images/fort/fort-output-3.png" width="100px"></div>

<div style="display:inline-block; border: 1px solid blue">Вход</div>
<div style="display:inline-block; border: 1px solid green">Изход</div>

<div style="display:inline-block; border: 1px solid blue">4</div>
<div style="display:inline-block; border: 1px solid green"><img src="assets/chapter-6-images/fort/fort-output-4.png" width="100px"></div>

<div style="display:inline-block; border: 1px solid blue">Вход</div>
<div style="display:inline-block; border: 1px solid green">Изход</div>

<div style="display:inline-block; border: 1px solid blue">5</div>
<div style="display:inline-block; border: 1px solid green"><img src="assets/chapter-6-images/fort/fort-output-5.png" width="100px"></div>

<div style="display:inline-block; border: 1px solid blue">Вход</div>
<div style="display:inline-block; border: 1px solid green">Изход</div>

<div style="display:inline-block; border: 1px solid blue">8</div>
<div style="display:inline-block; border: 1px solid green"><img src="assets/chapter-6-images/fort/fort-output-8.png" width="100px"></div>

### Насоки и подсказки
За да "обединим" примерите в един алгоритъм, ще трябва да изследваме какво се повтаря във всеки пример. Разлгеждайки тестовите примери по редове, може да  разграничим различни групирания от редове.

<img src="assets/chapter-6-images/fort/fort-input-5-explanation.png">

<img src="assets/chapter-6-images/fort/fort-input-8-explanation.png">

Общи за примерите са три групи редове :
- таван
- стени
- основи

**Таванът** винаги се състои само от **един** ред, а пък **основите** винаги - от **два**. Oсновите се рисуват както на последният ред, така и на предпоследният.

Забелязваме, че броят на редовете, на които са нарисувани стени, е различен за различните примери. Използвайки условието, можем да изчислим броят на стените:

```
редове за цялата крепост: n
редове за покрив: 1
редове за основи: 2
редове за стени: n - 3
```
Редовете за стените ще са равни на височината на цялата крепост **(n)** без височината на покрива и основите.


#### Рисуване на покрива
След като сме установили нужният брой от редове за всяка "част" от крепостта, ще започнем да пишем кодът, който ще я "рисува".

За тази цел, ще разделим тавана на няколко части, които са по лесни за рисуване:

<img src="assets/chapter-6-images/fort/fort-roof-8-explanation.png">

<img src="assets/chapter-6-images/fort/fort-roof-5-explanation.png">

Примерите ни показват, че покривът може да бъде разделен на **кули** и **междинна част**. Всяка кула се състои от начало **"/"**, среда **"^"** и край **"\\"**. Броят на символите за начало и край винаги е равен на едно. Като допълнение можем да забележим, че броят на средите "^" е равен на  n/2.
Следователно, символите в една кула ще бъдат `Math.floor(n/2) + 2`.
**Забележка** : Math.floor - приравнява надолу.
<img src="assets/chapter-6-images/fort/fort-code-1.png">
TODO: Add Console.Write explanation
Тъй като **towerWidth** е целочислен тип данни (int), остатъкът при деление се премахва и не се налага да закръгляваме надолу.

Можем да изчислим размерът на междинната част:

```
Междинна широчина = широчина на крепост - 2*широчина на кула
Междинна широчина = 2*n - 2*широчина на кула
```
<img src="assets/chapter-6-images/fort/fort-code-2.png">
След като сме нарисували и междинният покрив на замъкът, ни остава само да нарисуваме още една кула.

TODO: Add Console.WriteLine()

<img src="assets/chapter-6-images/fort/fort-roof-4-explanation.png">

Когато рисуваме покриви с **n<=4** ще забележим, че средната част от покрива липсва.

#### Рисуване на стените
Трябва да нарисуваме редовете, така че да направим височината на кепостта ни **n**.
Вече знаем, че ни трябва 1 ред за покрив и 2 за основи, значи ще ни трябват `n-3` реда за стени.

<img src="assets/chapter-6-images/fort/fort-code-3.png">

Един ред от стената се състои от символ **"|"** в началото, няколко интервала и символ **"|"** в края. Следователно, броят на интервалите ще бъде равен на `широчината на крепоста - 2` или `2*n - 2`.

<img src="assets/chapter-6-images/fort/fort-code-4.png">
На края на всеки ред се налага по някакъв начин да отиваме на нов ред. За тази цел използваме `Console.WriteLine()`. Извикан без параметри, този метод само ни праща на нов ред.

#### Рисуване на основите

В частта на основите влизат последните два реда.

Предпоследният ред е подобен на обикновен ред за стена, но по средата той съдържа няколко символа за междинна част. Широчината на междинната част на основите е равна на широчината на междинната част на покрива. Преди и след междинната част състояща се от **"_"**, ще трябва да рисуваме няколко интервала.

`Брой интервали = широчина на крепоста - широчина на междинна част - 2`

<img src="assets/chapter-6-images/fort/fort-code-5.png">

Ще разделим интервалите на две части, и ще рисуваме половината преди междинната част и половината след междинната част.

TODO: Да се добави обяснение защо интервалите винаги ще могат да се делят на 2

Последният ред от крепоста ни, наподобява първият. Него можем да направим като вземем кодът, който рисува първият ред и променим някои от символите.
<img src="assets/chapter-6-images/fort/fort-code-6.png">
### Тестване в Judge системата
TODO: Add adress

## Пеперуда
*Пета задача от междинния изпит на 26 март 2016.*
Да се напише програма, която прочита от конзолата цяло число **n** и чертае пеперуда с ширина **2 * n - 1** колони и височина **2 * (n - 2) + 1** реда като в примерите по-долу.  Лявата и дясната ѝ част са широки **n - 1**.

### Входни данни
Входът е цяло число **n** в интервала **[3…1000]**.
### Изходни данни
Да се отпечатат на конзолата **2 * (n - 2) + 1**  текстови реда, изобразяващи пеперудата.
### Примерен вход и изход

<div style="display:inline-block; border: 1px solid blue">Вход</div>
<div style="display:inline-block; border: 1px solid green">Изход</div>

<div style="display:inline-block; border: 1px solid blue">3</div>
<div style="display:inline-block; border: 1px solid green"><img src="assets/chapter-6-images/butterfly/butterfly-input-3.png" width="100px"></div>

<div style="display:inline-block; border: 1px solid blue">Вход</div>
<div style="display:inline-block; border: 1px solid green">Изход</div>

<div style="display:inline-block; border: 1px solid blue">5</div>
<div style="display:inline-block; border: 1px solid green"><img src="assets/chapter-6-images/butterfly/butterfly-input-5.png" width="100px"></div>

<div style="display:inline-block; border: 1px solid blue">Вход</div>
<div style="display:inline-block; border: 1px solid green">Изход</div>

<div style="display:inline-block; border: 1px solid blue">7</div>
<div style="display:inline-block; border: 1px solid green"><img src="assets/chapter-6-images/butterfly/butterfly-input-7.png" width="100px"></div>

### Насоки и подсказки
Примерният вход и изход ни показват, че има 2 вида редове:
1. Редове от звездички
2. Редове от тирета

Всеки един от тези редове е разделен от интервал на две еднакви части съставени от **n - 1** символа. В началото или в края на всяка една от тези части има наклонена една черта. Без наклонената черта ни остават **n - 2** символа, които са или звезда или тире. Може да сведем изрисуването на един единствен ред до следното:
```
Рисуване на n-2 звезди или тирета
Рисуване на \ /
Рисуване на n-2 звезди или тирета
```
След като знаем как да нарисуваме един ред, ще разгледаме каква е логиката зад различните типове редове или по точно ще видим дали един ред се състои от звездички или от черти. Ако номерацията на редовете ни започва от 0, ще забележим, че редовете, които са кратни на 2 **(четните редове)** включват звезди, а редовече, които не са кратни на 2 **(нечетните редове)** включват тирета.

Освен това, по средата на пеперудата има специален ред, който се състои от интервали и един единствен символ **@**. Преди символът **@** ще трябва да нарисуваме толкова интервали, колкото е размерът на едното крило на пеперудата. По условие, той ни е зададен като **n - 1**.

Височината на фигурката, която рисуваме трябва да е **2 &#42; (n-1) + 1**. Без специалният среден ред, получаваме височината само на крилата на пеперудата, която е равна на **2 &#42; (n-2)**. Следователно **n-2** е броят на редовете, които трябва да нарисуваме преди специалният ред както и след специалният среден ред. 

Можем да стигнем до същото заключение като забележим, че фигурките образувани само от звезди или тирета са квадрати. Следователно височината на едната част би била равна на широчината на едно крило или на **n-2**.

### Тестване в Judge системата


## Знак "Стоп"

Да се напише програма, която прочита от конзолата **цяло число N** и чертае **предупредителен знак STOP** с размери като в примерите по-долу.

### Входни данни

Входът е **цяло число N** в интервала **[3…1000]**.

### Изходни данни

Да се отпечатат на конзолата текстови редове, изобразяващи **предупредителния знак STOP**, точно както в примерите.

### Примерен вход и изход

<div style="display:inline-block; border: 1px solid blue">Вход</div>
<div style="display:inline-block; border: 1px solid green">Изход</div>

<div style="display:inline-block; border: 1px solid blue">3</div>
<div style="display:inline-block; border: 1px solid green"><img src="assets/chapter-6-images/stop/stop-input-3.png" width="100px"></div>

<div style="display:inline-block; border: 1px solid blue">Вход</div>
<div style="display:inline-block; border: 1px solid green">Изход</div>

<div style="display:inline-block; border: 1px solid blue">5</div>
<div style="display:inline-block; border: 1px solid green"><img src="assets/chapter-6-images/stop/stop-input-5.png" width="100px"></div>

<div style="display:inline-block; border: 1px solid blue">Вход</div>
<div style="display:inline-block; border: 1px solid green">Изход</div>

<div style="display:inline-block; border: 1px solid blue">7</div>
<div style="display:inline-block; border: 1px solid green"><img src="assets/chapter-6-images/stop/stop-input-8.png" width="100px"></div>

### Насоки и подсказки
В зависимост от идентичноста на редовете може ги разделим на:
1. Начален ред
2. Редове на които знакът се разширява
3. Ред със надпис STOP!
4. Редове на които знакът се смалява

#### Начален ред
След като не ни е дадена информация за размерите на знакът STOP, ще трябва да си набавим нужната информация сравнявайки примерите.

Началният ред се състои от точки преди знакът, долни черти определящи горната страна на знакът и още точки след това. От дадените ни примери забелязваме, че точките преди и след знакът са **n+1** на брой, а долните черти са **2 &#42; n + 1** на брой.

Използвайки откритото до момента можем да намерим и широчината на цялата фигура, като намерим сбора от широчините на частите от реда с точки и частите от реда с долни черто. Широчината на цялата фигура ще бъде `2(n+1) + 2*n + 1`. Ако разкрием скобите може да сведем уравнението до `4*n + 3`. Тази информация ще ние е от полза когато рисуваме по долната част от фигурата.

#### Редове, на които знакът се разширява
Нека да разгледаме областа от фигурата след началният ред и преди редът, на който пише стоп.

След началният ред следват няколко подобни реда съставени от точки, наклонени черти и долни черти. На първият от тези редове има с една по малко точки от началния ред или **n** точки. Колкото по надолу слизаме, толкова по-малко точки има и толкова по широк става знакът. Това продължава надолу докато не останат никакви точки преди или след знакът. Може да направим заключението, че броят на редовете, в които широчината на знакът расте е равен на **n**. 

До същото заключение може да се стигне ако преброим поотделно редовете, в които знакът се разширавя във всеки един от примерите.

Обхождайки редовете от този с n точки, към този с 1 точка, може за всеки ред поотделно да изчислим размерът на знакът за този ред. Нека i да е броят точки на даден ред. Тогава може да получим, че `широчина на знак = широчина на фигура - 2 * i`.

Когато заместим във формулата получаваме : `широчина на знак = 4 * n + 3 - 2 * i`

Знаейки, че броят на наклонените черти на ред от знакът е равен на 4, може да намерин и колко долни черти трябва да рисуваме на всеки ред от разглежданата област от фигурата.

#### Ред със надис STOP!
След като няма точки на този ред и ние знаем широчината на фигурата, можем да намерим колко долни черти трябва да рисуваме преди и след надписът, като вземем широчината на фигурата без наклонените черти и от нея извадим 5 - броят на символите съставящи `STOP!`. Полученото число разделяме на две за да знаем по колко долни черти трябва да рисуваме около думичката STOP!.

####Редове, на които знакът се смалява
Разлгеждаме групата от редове, на които широчината на знакът става все по-малка. 

На първият от тази група има 1 точка, а на последниятю може да забележим, че има по **n-1** точки преди и след знакът. Имайки броят на точки за един ред, можем да изчислим широчината на знакът за този ред и след това броят на долните черти, които трябва да рисуваме между няклонените черти.

### Тестване в Judge системата


## TODO: да се добавят още 2-3 изпитни задачи за чертане на фигурки
